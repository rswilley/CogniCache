@using CogniCache.Domain.Repositories.TagRepository
@using CogniCache.Shared.Services

@inject INavigationService _navigationService

@if (Tag.Children?.Any() == true)
{
    <BarDropdown IsOpen="false">
        <BarDropdownToggle>
            @Tag.Name
        </BarDropdownToggle>
        <BarDropdownMenu>
            @foreach (var child in Tag.Children)
            {
                <ChildDropdownItem Tag="child" />
            }
        </BarDropdownMenu>
    </BarDropdown>
}
else
{
    <BarDropdownItem @onclick="OnTagNameClicked" To="#">
        @Tag.Name
    </BarDropdownItem>
}

@code {
    [Parameter]
    public Tag Tag { get; set; }

    private void OnTagNameClicked()
    {
        _navigationService.NavigateToTag(Tag.Name);
    }
}